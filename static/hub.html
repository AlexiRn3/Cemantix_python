<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Arcade Hub</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="falling-objects-background">
    <span class="falling-object" style="--i:11; --hue:0;">ğŸ®</span>
    <span class="falling-object" style="--i:12; --hue:180;">ğŸ‘¾</span>
    <span class="falling-object" style="--i:24; --hue:60;">ğŸ•¹ï¸</span>
    <span class="falling-object" style="--i:10; --hue:240;">ğŸ®</span>
    <span class="falling-object" style="--i:14; --hue:300;">ğŸ‘¾</span>
    <span class="falling-object" style="--i:23; --hue:120;">ğŸ•¹ï¸</span>
    <span class="falling-object" style="--i:18; --hue:330;">ğŸ®</span>
    <span class="falling-object" style="--i:16; --hue:270;">ğŸ‘¾</span>
    <span class="falling-object" style="--i:19; --hue:90;">ğŸ•¹ï¸</span>
    <span class="falling-object" style="--i:20; --hue:150;">ğŸ®</span>
    <span class="falling-object" style="--i:22; --hue:210;">ğŸ‘¾</span>
</div>
<div class="user-controls">
    <button id="btn-profile" class="profile-btn" onclick="openLoginModal()">
        <div class="avatar">ğŸ‘¤</div>
        <span id="profile-name-display">Connexion</span>
    </button>
</div>

<div class="container">
    <header class="hero">
        <img src="/static/img/logo.png" alt="Arcade Hub Logo" class="hub-logo" style="margin-bottom: 20px;">

        <p class="eyebrow" style="color: var(--accent); text-transform: uppercase; letter-spacing: 0.1em; font-weight: 700; margin-bottom: 10px;">Plateforme de Jeux</p>
        
        <p>Une collection minimaliste de jeux de mots et de sÃ©mantique. Connectez-vous, choisissez votre dÃ©fi et jouez en temps rÃ©el.</p>
        
        <div style="margin: 40px auto 0 auto; display: grid; grid-template-columns: 1fr auto; gap: 20px; max-width: 500px;">
            <input type="text" id="room-id" placeholder="Code Room (optionnel)" />
            <button id="btn-join" class="btn btn-outline">Rejoindre</button>
        </div>
    </header>

    <div class="games-grid">
        <article class="game-card" style="border: 2px solid #FFD700;">
            <div>
                <div class="daily-badge">ğŸ“… Challenge Quotidien</div>
                <div class="game-icon" style="color: #FFD700;">ğŸ†</div>
                <h3>Le Mot du Jour</h3>
                <p>Un mot unique pour tout le monde aujourd'hui. Comparez votre score avec vos amis !</p>
            </div>
            <button id="btn-daily" class="btn" onclick="createGame('cemantix', 'daily')">Relever le dÃ©fi</button>
        </article>

        <article class="game-card">
            <div>
                <div class="game-icon" style="color: #ff3c00;">âœ¦</div>
                <h3>CÃ©mantix</h3>
                <p>Le classique. Trouvez le mot cachÃ© grÃ¢ce Ã  la proximitÃ© sÃ©mantique. Un algorithme de NLP vous guide vers la victoire.</p>
            </div>
            <button class="btn" onclick="createGame('cemantix')">Lancer le protocole</button>
        </article>

        <article class="game-card">
            <div>
                <div class="game-icon" style="color: #00e054;">Â¶</div>
                <h3>Dictionnario</h3>
                <p>DÃ©duction pure. Analysez la dÃ©finition.</p>
                </div>
            <button class="btn" onclick="openDictioConfig()">Configurer & Jouer</button>
        </article>

        <article class="game-card">
        <div>
            <div class="game-icon" style="color: #6c5ce7;">?</div>
            <h3>L'Intrus</h3>
            <p>Un de ces 4 mots n'a rien Ã  faire lÃ . Serez-vous assez fin pour repÃ©rer l'intrus sÃ©mantique ?</p>
        </div>
        <button class="btn" onclick="openGameConfig('intruder')">Chrono & Jouer</button>
    </article>

    <article class="game-card">
            <div>
                <div class="game-icon" style="color: var(--warning);">ğŸ”‹</div>
                <h3>Pendu Arcade</h3>
                <p>Sauvez la batterie ! Trouvez le mot lettre par lettre avant l'extinction totale.</p>
            </div>
            <button class="btn" onclick="createGame('hangman')">Jouer</button>
        </article>
        <article class="game-card" style="border: 2px solid #a29bfe;">
            <div>
                <div class="game-icon" style="color: #a29bfe;">âš”ï¸</div>
                <h3>Duel</h3>
                <p>Affrontement rapide. Un thÃ¨me est donnÃ© (ex: "Liquide"). Trouvez le mot le plus proche en 60s !</p>
            </div>
            <button class="btn" onclick="openGameConfig('duel')">Lancer le Duel</button>
        </article>
        <article class="game-card">
            <div>
                <div class="game-icon" style="color: var(--warning);">X</div>
                <h3>BientÃ´t...</h3>
                <p>Ce jeu sera bientÃ´t implÃ©mentÃ©. Patience !</p>
            </div>
            <button class="btn" onclick="">Jouer</button>
        </article>
    </div>
</div>

<div id="config-modal" class="modal-overlay">
    <div class="modal-box" style="text-align: left; max-width: 450px;">
        <h2 id="config-modal-title" style="text-align: center; margin-bottom: 30px;">Configuration</h2>
        
        <div id="mode-group" style="margin-bottom: 20px;">
            <label style="font-weight:bold; display:block; margin-bottom:10px;">Mode de jeu</label>
            <select id="config-mode" onchange="toggleDurationDisplay()" style="width:100%;">
                <option value="coop">ğŸ¤ Classique (Coop)</option>
                <option value="blitz">âš¡ Blitz (Chrono)</option>
            </select>
        </div>

        <p id="mode-desc" style="font-size: 0.9em; color: var(--text-muted); margin-top: 5px; margin-bottom: 20px;">
            Description du mode...
        </p>

        <div id="duration-group" style="margin-bottom: 30px; display: none;">
            <label style="font-weight:bold; display:block; margin-bottom:10px;">DurÃ©e du dÃ©fi</label>
            <select id="config-duration" style="width:100%;">
                <option value="60">1 minute</option>
                <option value="180" selected>3 minutes</option>
                <option value="300">5 minutes</option>
                <option value="600">10 minutes</option> </select>
        </div>

        <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
            <button class="btn" onclick="submitGameConfig()">Lancer</button>
            <button class="btn btn-outline" onclick="closeConfigModal()">Annuler</button>
        </div>
    </div>
</div>

<button id="help-trigger" class="help-float-btn" aria-label="Aide">?</button>

<div id="modal-overlay" class="modal-overlay">
    <div class="modal-box">
        <div id="modal-icon" class="winner-badge" style="display:none; color: var(--success);">âœ¦</div>
        <div id="modal-title" class="modal-title">Titre</div>
        <div id="modal-content" class="modal-content">Contenu</div>
        <div class="modal-actions" id="modal-actions">
            <button class="btn" onclick="closeModal()">Fermer</button>
        </div>
    </div>
</div>

<div id="help-modal" class="modal-overlay">
    <div class="modal-box help-modal-content">
        <h2 class="modal-title" style="font-size: 2rem;">Guide Arcade Hub</h2>
        
        <div class="help-section">
            <h3 style="color:var(--accent);">ğŸ® Comment Ã§a marche ?</h3>
            <p>Arcade Hub est une plateforme de jeux sÃ©mantiques en <strong>temps rÃ©el</strong>. 
            CrÃ©ez une "Room", partagez l'URL ou le code Ã  vos amis, et jouez ensemble (Coop) ou les uns contre les autres (Blitz/Course).</p>
        </div>

        <div class="help-grid">
            <div class="help-item">
                <div class="icon">âœ¦</div>
                <div>
                    <strong>CÃ©mantix</strong>
                    <p>Trouvez le mot cachÃ© par proximitÃ© sÃ©mantique (sens). Plus c'est chaud (ğŸŒ¡ï¸), plus vous Ãªtes proche !</p>
                </div>
            </div>

            <div class="help-item">
                <div class="icon">Â¶</div>
                <div>
                    <strong>Dictionnario</strong>
                    <p>DÃ©duction pure. On vous donne une dÃ©finition et le nombre de lettres. Ã€ vous de trouver le mot exact.</p>
                </div>
            </div>

            <div class="help-item">
                <div class="icon">?</div>
                <div>
                    <strong>L'Intrus</strong>
                    <p>4 mots sont affichÃ©s. 3 sont trÃ¨s proches sÃ©mantiquement, 1 est un imposteur. Cliquez sur l'intrus !</p>
                </div>
            </div>

            <div class="help-item">
                <div class="icon">ğŸ”‹</div>
                <div>
                    <strong>Pendu Arcade</strong>
                    <p>Trouvez le mot lettre par lettre. Chaque erreur vide la batterie commune. Sauvez l'Ã©nergie !</p>
                </div>
            </div>
        </div>

        <div class="modal-actions" style="margin-top: 30px;">
            <button class="btn" onclick="document.getElementById('help-modal').classList.remove('active')">J'ai compris !</button>
        </div>
    </div>
</div>

<footer class="site-footer">
    <div class="container footer-content">
        <div class="footer-brand">
            <span style="color:var(--accent); font-size:1.5rem;">â—</span> ARCADE HUB
        </div>

        <p class="footer-copy">
            &copy; 2025 â€¢ Fait avec <span class="heart-beat">â™¥</span> et du Python, par Julien et Alexi.
        </p>

        <div class="footer-links">
            <a href="/">Accueil</a>
            <a href="https://github.com/Adami-j/Cemantix_python" target="_blank">GitHub</a>
            <a href="#" style="opacity:0.5; pointer-events:none;">v1.1</a>
        </div>
    </div>
</footer>

<!-- --- Musique de fond via SoundCloud --- -->
<div id="music-drawer">
    <div id="music-toggle">
        <span id="music-icon">ğŸµ</span>
    </div>

    <div class="music-content">
        <h3 style="font-size: 1rem; margin: 5px 0 10px 5px; color: var(--accent);">Ambiance Sonore</h3>
        <iframe
            id="sc-player"
            title="Lecteur SoundCloud"
            scrolling="no"
            frameborder="no"
            allow="autoplay"
            src="https://soundcloud.com/sneezedit/cematix-python-intrus-5"
            data-sound-url="https://soundcloud.com/sneezedit/cematix-python-intrus-5"
            data-mode-tracks='{}'
            data-game-tracks='{}'
            data-game-mode-tracks='{}'
            data-game-duration-tracks='{}'
        ></iframe>
    </div>
</div>

<script src="https://w.soundcloud.com/player/api.js"></script>
<script type="module" src="/static/js/music_hub.js"></script>
<script type="module" src="/static/js/main.js"></script>
<script type="module" src="/static/js/chat_ui.js"></script>
<script type="module" src="/static/js/ui.js"></script>
<script type="module" src="/static/js/state.js"></script>
<script type="module" src="/static/js/websocket.js"></script>
<script type="module" src="/static/js/game_logic.js"></script>
<script type="module" src="/static/js/victory.js"></script>
<script type="module" src="/static/js/launcher.js"></script>
<script type="module" src="/static/js/session.js"></script>
<script type="module" src="/static/js/modal.js"></script>

</body>
</html>